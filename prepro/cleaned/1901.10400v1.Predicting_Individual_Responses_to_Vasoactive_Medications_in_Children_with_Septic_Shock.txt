introduction  septic shock in children is a deadly disease with an estimated mortality rate of       with aggressive resuscitation  .  prior to institution of guidelines for aggressive resuscitation in septic shock  mortality was as high as      . current  recommendations include the early administration of volume  antibiotics  and vasoactive medications to support and  improve end organ perfusion  . early reversal of septic shock through early resuscitation has been shown to reduce  mortality by   fold compared to patients who did not receive early resuscitation  .  early reversal of septic shock using fluid and vasoactive therapies are recommended by the american college of  critical care medicine  . literature supports the idea of treating children with cold shock with an epinephrine infusion   and children with warm shock on an infusion of norepinephrine  . dopamine can also be considered as a first line agent  for hemodynamic stabilization in septic shock. in patients with meningococcal sepsis  lack of vasopressor therapy  administration showed increased odds of death    .   compared to patients who received vasopressor therapy  . the  importance of early initiation of vasopressor therapy in patients with fluid refractory shock cannot be understated.  despite these recommendations  there is a paucity of literature concerning the hemodynamic response to vasoactives in  children with septic shock. specifically  the effects of these medications on heart rate  hr   systolic blood pressure   sbp   diastolic blood pressure  dbp   and mean arterial pressure  map  can be difficult to predict in individual  patients  making drug dose titration necessary in a clinical setting. vasoactives such as dopamine  epinephrine  and  norepinephrine can have strong and adverse effects  and anticipating a child s response to them is critical.  early  small scale studies of the cardiovascular effects of vasoactive medications involved healthy adult males who had  infusions of epinephrine and norepinephrine. significant findings included increased cardiac output and systolic blood  pressure and decreased peripheral vascular resistance as responses to epinephrine infusion  . patients given an infusion  of norepinephrine had uniform increases in systolic blood pressure and mean arterial pressure  . these studies paved  the way for modern pharmacokinetic studies  which have further elucidated the mechanism of action and function of  these endogenous vasopressors. increasing doses of epinephrine during cpr in out of hospital cardiac arrests resulted  in an overall linear dose response curve in which higher doses of epinephrine resulted in higher systolic and diastolic  aortic blood pressures  . a study of adult patients with septic shock reported linear increases in heart rate  mean arterial  blood pressure  and cardiac index  ci  after infusion of epinephrine as a single agent  . norepinephrine was found to  have minimal effects on ci or stroke volume index  svi  in adult patients with septic shock  although in combination  with dobutamine  it was found to increase mean arterial pressure  ci  and svi  . martin et. al. compared dopamine  and norepinephrine for treating hyperdynamic septic shock in adults and found that patients who received epinephrine  had significant increases in map and systemic vascular resistance index  svri   and in patients who did not respond  to high doses of dopamine  addition of norepinephrine produced the previously described changes   .  ceneviva et. al. studied septic children with fluid refractory shock and their response to inotropic vasoactive therapy  .  these patients were divided into three groups  those with low cardiac index  ci   those with low systemic vascular  resistance index  and those with combined cardiac and vascular dysfunction. they were treated with infusions of  inotropes  vasopressors  or vasodilators depending on their physiology. in    of    patients studied  vasopressor or  inotrope therapy was altered as a result of hemodynamic variables found by pulmonary artery catheter measurements.  four of the study patients had a complete change in hemodynamic profile which necessitated a change in vasopressor inotrope support based on ci and svri. this study showed significant heterogeneity in pediatric septic shock  throughout the illness course and need for constant re evaluation of the patients hemodynamic state.  the significant heterogeneity of septic children s responses to vasoactive medications suggests that an individual  child s response depends on many variables other than dose titration alone. age  number of fluid boluses  concurrent  medications  steroid use  previous medical history  and underlying illness may all affect the response of a septic patient  to vasoactive therapy   . no studies  of which the authors are aware  have attempted to account for these variables on  an individual level  and this is likely due to the complexity of the problem and limited data.  the ever increasing availability of electronic medical records  emr  combined with recent advances in machine  learning may enable a more comprehensive analysis of patient data and vasoactive response than previously possible.  this motivated us to hypothesize that a recurrent neural network  rnn  could extract the relationships between  an individual child s emr and that child s response to vasoactive titration. rnns are a family of neural network     architectures that were designed to process sequential data and incorporate information from previous inputs when  calculating predictions       . successful applications of rnns include language modeling     speech recognition   and  machine translation       . more recently  rnns have been applied to problems in the healthcare domain because of  their suitability for streaming medical data. these include early detection of critical decompensation in children      onset of heart failure     dynamic prediction of mortality risk         de identification of patient notes     and prediction  of individual children s physiologic state associated with successful discharge from a pediatric intensive care unit   picu    .  objective  the main goal of this study was to train a recurrent neural network  rnn  on emr data to predict individual septic  children s physiologic response  hr  sbp  dbp  and map  to vasoactive titration. a secondary goal was to train a  linear regression model whos sole input is dose change to provide a baseline against which the rnn model can be  compared.  materials and methods  data  this was a retrospective study of pediatric intensive care unit  picu  patients at children s hospital los angeles   chla   a tertiary care academic center  between      and     . the chla institutional review board  irb   reviewed the study protocol and waived the need for irb approval. the data were extracted from de identified observational clinical data collected in electronic medical records  emr  cerner  kansas city  mo.  and included time  series of vital signs  labs  drugs  and interventions  as well as demographic information such as gender  race  and ethnicity. only patients meeting septic shock criteria   an elevated or depressed white blood cell count for the patient s  age     hyperthermia      . o c  or hypothermia      o c   and antibiotic administration during their hospitalization    were included.       episodes      children  meeting septic criteria and were treated with dopamine  epinephrine   or norepinephrine infusions comprised the study cohort.  response variables  hr  sbp  dbp  and map were examined prior to and following each dose titration  i.e. change in the level of administered dopamine  epinephrine  or norepinephrine. changes in these four vital signs defined the response we sought  to model. these changes were calculated at each titration using the mean measurement one hour after titration  postobservation window  minus the mean measurement two hours before titration  pre observation window   as shown in  figure  a. a two minute exclusion window at the time of administration was used to account for perturbations in  actual administration time.  linear regression model  motivated by previous studies    that modeled physiologic responses to dopamine  epinephrine  and norepinephrine  dose changes as linear  we developed linear regression  lr  models of the form y   mx   b as a baseline  where x is  the change in vasoactive dose  and y is the change in a vital sign  hr  sbp  dbp  map . the training set was used to  optimize the model parameters m  slope  and b  intercept .  rnn model  for each vital sign vasoactive combination  a rnn model using long short term memory  lstm    architecture  was developed to predict an individual child s vital sign response to titrations of that vasoactive. at each time point  where measurements were recorded  a vector containing patient data at that time point was input to the rnn model.  elements of this vector included vitals  laboratory results  drugs and interventions at that time  as well as demographic  information such as gender and race. preprocessing steps described in previous work       converted the emr into a  temporal sequence of vectors amenable to machine learning. figure  b illustrates the flow of input and output through  the rnn. the model makes a prediction at each time point where an input vector exists. the appendix provides     figure     a  visualization of how physiologic responses were calculated. in this example  a vasoactive was titrated  at times tj and tk . the average hr in the   hour window prior to the   minute exclusion window for ti was     bpm.  the average hr in the   hour window following the   minute exclusion window for ti was     bpm. therefore  the  computed true response for the titration at ti was     bpm          . similarly  the true response for the titration  at tk was     bpm          .  b  high level illustration of a rnn for predicting physiologic response to vasoactive  titration.  details of the rnn model parameters and training hyperparameters  table    and a list of input variables  table   .  model training  the error metric used to optimize both lr and rnn model parameters during training was the average of mean  absolute error  mae  of each vital sign aggregated over the training set. training hyperparameters for the rnn  model  including the number of hidden units  optimization algorithm  activation function  and learning rate  were  optimized via minimizing mae on the validation set. since true responses existed only at times corresponding to  points of titration  the errors were aggregated only from the predictions made at these titration points. for example  in  figure    tj and tk are the only titration time points. therefore  only the predictions at these two time points would be  included in the error calculation.     performance evaluation  three metrics computed on the test set assessed model performance. the correlation between the true physiologic  response  the measured change in vital sign  and the rnn s predicted change was calculated. this correlation was  compared to the correlation between titration dose change and the true physiologic response. the maes for each vital  sign in each rnn and linear model were also computed. lastly  the true physiologic responses and predictions were  categorized as either increasing or not increasing. the accuracy of these dichotomous predictions was evaluated using  the area under the receiver operating characteristic curve  auc .  identifying application and window types  children may receive various interventions and medications simultaneously during their icu stay. consequently  it  is difficult to anticipate how an individual child s physiologic state may or may not respond to a certain sequence or  combination of treatments  let alone one specific treatment. for each vasoactive of interest  we characterized each  titration to aid evaluation of different scenarios in which a child may receive these treatments. this was done by  labeling each titration point and each post observation window as either independent or correlated.  an independent application  ia  occurs when exactly one vasoactive of interest   dopamine  epinephrine  or norepinephrine   is titrated. a correlated application  ca  occurs when at least one of these three drugs is titrated at the  same time as another vasoactive that may or may not be one of these three. an independent observation  io  occurs  when the vasoactive of interest is present and no other vasoactives are titrated within the post observation window. a  correlated observation  co  occurs when the vasoactive of interest is present and another vasoactive titration occurs  within the post observation window. figure   illustrates the different scenarios for application and observation.  characterizing the application and observation type of each titration allows for clearer analysis of model performance.  titrations characterized as an independent application with an independent observation window are the cleanest data  for observing the effect of vasoactives. nevertheless  all application observation permutations are important to provide  a more comprehensive representation of vasoactive use in an icu setting. table   provides the counts of applicationobservation types in the training  validation and test sets for each vasoactive.    figure    depictions of titration application and observation windows.     vasoactive  dopamine    epinephrine    norepinephrine    dataset  training  validation  test  training  validation  test  training  validation  test    independent  application  ia                                                            correlated  application  ca                                      independent  observation  io                                                          correlated  observation  co                                                      ia   io                                                         table    counts of each application and observation type in the training  validation  and test set for each vasoactive.  results  response range  a wide range of responses to vasoactive titrations was observed  figure    left plots . the interquartile range of  responses                   of patients given dopamine was        bpm for hr           mmhg for sbp          mmhg for dbp  and        mmhg for map per   mcg kg min increase of dopamine. for  .  mcg kg min increase of  epinephrine  responses were        bpm for hr           mmhg for sbp         mmhg for dbp  and        mmhg  for map. for  .   mcg kg min increase of norepinephrine  responses were        bpm for hr          mmhg for  sbp         mmhg for dbp  and        mmhg for map.  correlation of response to dose change and rnn prediction  the correlation coefficient  r  between the true responses and dose changes ranged from   .   to  .    while r between the true responses and the rnn s predicted responses ranged from  .   to  .    see figure   . the difference  between these two correlation coefficients was found to be significant  p    .   . the correlation coefficients between  true responses and the titrations characterized as an independent application with independent observation were not  significantly different from other titrations  table   .    dopamine    epinephrine    norepinephrine    diastolic blood pressure  heart rate  mean arterial pressure  systolic blood pressure  diastolic blood pressure  heart rate  mean arterial pressure  systolic blood pressure  diastolic blood pressure  heart rate  mean arterial pressure  systolic blood pressure    over full data set  response v. response v.  titration  rnn pred.   .     .     .     .     .     .     .     .     .     .     .     .     .     .     .     .     .     .      .     .     .     .     .     .      ia io set  response v. response v.  titration  rnn pred.   .     .     .     .     .     .     .     .     .     .     .     .     .     .     .     .     .     .      .     .     .     .     .     .      non ia io set  response v. response v.  titration  rnn pred.    .     .     .     .      .     .      .     .     .     .     .     .     .     .     .     .     .     .     .     .     .     .     .     .      table    the correlation coefficient  r  for the plots in figure  . correlation coefficients were also calculated separately for titrations characterized as independent application with independent observation  ia io  and for titrations  not characterized as ia io  non ia io .  evaluation of lr and rnn predictions using mae and auc  parameters of the lr models are in the appendix  table   . table   shows the maes of the rnn and lr predictions of  hr  sbp  dbp and map responses to dopamine  epinephrine and norepinephrine titrations in the test set. the rnn s     figure    the left plots  yellow  are the vasoactive dose changes in mcg kg min  x axis  and the measured physiologic  responses  y axis . the right plots  blue  are the rnn predicted responses  x axis  and the measured responses  yaxis . these plots are shown for each drug  top bottom  dopamine  epinephrine  norepinephrine . the correlation  coefficient  r  is included for each subplot.     maes associated with dopamine and epinephrine were lower by      than those of lr across all four vitals. the  rnn model had higher maes in sbp  dbp and map responses to norepinephrine than lr. maes aggregated over  the subset of titrations characterized as independent application with independent observations were lower than errors  aggregated over the whole set. this was true for both rnn and lr models across all vasoactive vital combinations.  table   displays test set aucs when the models were evaluated on the binary task of predicting whether or not  vitals increased in response to vasoactive titrations. across all vitals and vasoactives  the rnn achieved       auc  improvement over lr  with the largest improvement coming from hr response to epinephrine. the rnn s aucs  computed over titrations characterized as independent application with independent observation were generally higher  than aucs from the whole set. the only exceptions were dopamine hr and epinephrine hr combinations.  mae  dopamine  epinephrine  norepinephrine    hr  bpm   lr  rnn   .     .     .     .      .     .     .     .      .     .     .     .       sbp  mmhg   lr  rnn    .     .       .     .       .      .      .      .       .     .       .     .       dbp  mmhg   lr  rnn   .     .     .     .      .     .     .     .      .     .     .     .       map  mmhg   lr  rnn   .     .      .     .       .     .      .     .      .     .      .     .       table    comparison of mae between the lr and rnn across titration variants. numbers in parentheses indicate  results from only the titrations characterized as independent application with an independent observation.  auc  dopamine  epinephrine  norepinephrine    hr  bpm   lr  rnn   .      .      .      .       .      .      .      .       .      .      .      .        sbp  mmhg   lr  rnn   .      .      .      .       .      .      .      .       .      .      .      .        dbp  mmhg   lr  rnn   .      .      .      .       .      .      .      .       .      .      .      .        map  mmhg   lr  rnn   .      .      .      .       .      .      .      .       .      .      .      .        table    comparison of auc between the lr and rnn predictions on the binary task across titration variants. numbers in parenthesis indicate results from only the titrations characterized as independent application and an independent  observation.  discussion  this is the first attempt to predict an individual critically ill child s response to increasing or decreasing doses of  vasoactive medications. the complex environment of an icu  in which the effects of administered interventions and  treatments can vary significantly from what may be observed in a controlled setting  coupled with the complexity of  disease processes  pose significant challenges to developing a robust predictive model.  when defining the response  i.e. vital sign change from pre titration to post titration   we deemed a one hour postobservation window sufficient for understanding the vasoactive s effects beyond a child s immediate response to the  titration. we also believed the two hour pre observation window provided more complete information of the child s  hemodynamic state before titration to compare with their altered state after titration.  the responses to dopamine  epinephrine and norepinephrine titrations in chla s picu showed significant heterogeneity  consistent with observations from a prior study  and the notion that many factors about patient condition  affect the response. these results were reflected in the low correlation coefficients between the observed responses  and dose changes  regardless of the vasoactive vital sign combination  figure   . not surprisingly  the linear regression model using only titration information performed poorly in mae  table    and auc  table     where the latter  corresponds to the task of determining positive or negative physiologic response.  the rnn model  which used all available variables  showed some improvements. across all vasoactive vital combinations  the observed responses were more highly correlated to the rnn s predictions than they were to dose changes.  the rnn s predictions of all four vital responses to dopamine and epinephrine dose changes showed mae and auc  improvements over the lr model  while the rnn s predictions of sbp  dbp  and map responses to norepinephrine  titrations were worse than the regression model s. this is potentially due to the limited norepinephrine data available  for training. these results indicate that the rnn model had some ability to extract factors  in addition to vasoactive  dose change  that affect response. both the lr and rnn models performed better on the subset of titrations characterized as independent application with independent observation than on the whole set. this was true for maes     on all vasoactive vital combinations  and for aucs on all but two vasoactive vital combinations. this affirms our  assumption that this subset of titrations would provide a  cleaner  dataset for understanding the effects of vasoactives   despite the true responses for this subset still showing similar heterogeneity to the full data set.  future efforts to improve model development include incorporating monitor data and more detailed fluids data. monitor data captures patient vital sign observations with much higher temporal frequency than the charted data used in  this study. higher fidelity data may provide a more complete picture of a patient s hemodynamic state during any  observation window  thus enabling more accurate response computations. in turn  these may allow for better model  development. detailed data for all fluids administered may also improve rnn performance. fluids are typically administered first before vasoactives to improve blood pressure in septic children  and thus are an important intervention  to include in any model.  conclusion  septic children s responses to vasoactive titrations displayed significant heterogeneity  which indicates that variables  other than dose titration affect the response. we hypothesized that an rnn would be able to process variables and their  interactions to more accurately predict an individual child s response than a linear regression using titration data alone.  the analysis assessing and comparing the performance of the two models supported this hypothesis. while the rnn s  predictions are not yet clinically applicable  the methodologies developed here may provide an initial framework to  refine machine learning models for this problem. further development of these methodologies may assist clinical  administration of vasoactive medications in children with septic shock in the future.     